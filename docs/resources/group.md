---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gitlab_group Resource - terraform-provider-gitlab"
subcategory: ""
description: |-
  The gitlab_group resource allows to manage the lifecycle of a group.
  -> On GitLab.com, you cannot use the gitlab_group resource to create a top-level group https://docs.gitlab.com/user/group/#group-hierarchy. Instead, you must create a group https://docs.gitlab.com/user/group/#create-a-group in the UI, then import the group into your Terraform configuration. From here, you can manage the group using the Terraform Provider.
  Upstream API: GitLab REST API docs https://docs.gitlab.com/api/groups/
---

# gitlab_group (Resource)

The `gitlab_group` resource allows to manage the lifecycle of a group.

-> On GitLab.com, you cannot use the `gitlab_group` resource to create a [top-level group](https://docs.gitlab.com/user/group/#group-hierarchy). Instead, you must [create a group](https://docs.gitlab.com/user/group/#create-a-group) in the UI, then import the group into your Terraform configuration. From here, you can manage the group using the Terraform Provider.

**Upstream API**: [GitLab REST API docs](https://docs.gitlab.com/api/groups/)

## Example Usage

```terraform
resource "gitlab_group" "example" {
  name        = "example"
  path        = "example"
  description = "An example group"
}

# Create a project in the example group
resource "gitlab_project" "example" {
  name         = "example"
  description  = "An example project"
  namespace_id = gitlab_group.example.id
}

# Group with custom push rules
resource "gitlab_group" "example-two" {
  name        = "example-two"
  path        = "example-two"
  description = "An example group with push rules"

  push_rules {
    author_email_regex     = "@example\\.com$"
    commit_committer_check = true
    member_check           = true
    prevent_secrets        = true
  }
}

# Group with custom default branch protection defaults
resource "gitlab_group" "example-three" {
  name        = "example-three"
  path        = "example-three"
  description = "An example group with default branch protection defaults"

  default_branch_protection_defaults {
    allowed_to_push            = ["developer"]
    allow_force_push           = true
    allowed_to_merge           = ["developer", "maintainer"]
    developer_can_initial_push = true
  }
}

# Group with custom default branch protection defaults
resource "gitlab_group" "example-four" {
  name        = "example-four"
  path        = "example-four"
  description = "An example group with default branch protection defaults"

  default_branch_protection_defaults {
    allowed_to_push            = ["no one"]
    allow_force_push           = true
    allowed_to_merge           = ["no one"]
    developer_can_initial_push = true
  }
}

# Group with a default branch name specified
resource "gitlab_group" "example-five" {
  name           = "example"
  path           = "example"
  default_branch = "develop"
  description    = "An example group with a default branch name"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the group.
- `path` (String) The path of the group.

### Optional

- `allowed_email_domains_list` (List of String) A list of email address domains to allow group access. Will be concatenated together into a comma separated string.
- `auto_devops_enabled` (Boolean) Default to Auto DevOps pipeline for all projects within this group.
- `avatar` (String) A local path to the avatar image to upload. **Note**: not available for imported resources.
- `avatar_hash` (String) The hash of the avatar image. Use `filesha256("path/to/avatar.png")` whenever possible. **Note**: this is used to trigger an update of the avatar. If it's not given, but an avatar is given, the avatar will be updated each time.
- `default_branch` (String) Initial default branch name.
- `default_branch_protection` (Number, Deprecated) See https://docs.gitlab.com/api/groups/#options-for-default_branch_protection. Valid values are: `0`, `1`, `2`, `3`, `4`.
- `default_branch_protection_defaults` (Block List, Max: 1) The default branch protection defaults (see [below for nested schema](#nestedblock--default_branch_protection_defaults))
- `description` (String) The group's description.
- `emails_enabled` (Boolean) Enable email notifications.
- `extra_shared_runners_minutes_limit` (Number) Can be set by administrators only. Additional CI/CD minutes for this group.
- `ip_restriction_ranges` (List of String) A list of IP addresses or subnet masks to restrict group access. Will be concatenated together into a comma separated string. Only allowed on top level groups.
- `lfs_enabled` (Boolean) Enable/disable Large File Storage (LFS) for the projects in this group.
- `membership_lock` (Boolean) Users cannot be added to projects in this group.
- `mentions_disabled` (Boolean) Disable the capability of a group from getting mentioned.
- `parent_id` (Number) Id of the parent group (creates a nested group).
- `permanently_remove_on_delete` (Boolean) Whether the group should be permanently removed during a `delete` operation. This only works with subgroups. Must be configured via an `apply` before the `destroy` is run.
- `prevent_forking_outside_group` (Boolean) Defaults to false. When enabled, users can not fork projects from this group to external namespaces.
- `project_creation_level` (String) Determine if developers can create projects in the group. Valid values are: `noone`, `owner`, `maintainer`, `developer`, `administrator`
- `push_rules` (Block List, Max: 1) Push rules for the group. (see [below for nested schema](#nestedblock--push_rules))
- `request_access_enabled` (Boolean) Allow users to request member access.
- `require_two_factor_authentication` (Boolean) Require all users in this group to setup Two-factor authentication.
- `share_with_group_lock` (Boolean) Prevent sharing a project with another group within this group.
- `shared_runners_minutes_limit` (Number) Can be set by administrators only. Maximum number of monthly CI/CD minutes for this group. Can be nil (default; inherit system default), 0 (unlimited), or > 0.
- `shared_runners_setting` (String) Enable or disable shared runners for a group’s subgroups and projects. Valid values are: `enabled`, `disabled_and_overridable`, `disabled_and_unoverridable`, `disabled_with_override`.
- `subgroup_creation_level` (String) Allowed to create subgroups. Valid values are: `owner`, `maintainer`.
- `two_factor_grace_period` (Number) Defaults to 48. Time before Two-factor authentication is enforced (in hours).
- `visibility_level` (String) The group's visibility. Can be `private`, `internal`, or `public`. Valid values are: `private`, `internal`, `public`.
- `wiki_access_level` (String) The group's wiki access level. Only available on Premium and Ultimate plans. Valid values are `disabled`, `private`, `enabled`.

### Read-Only

- `avatar_url` (String) The URL of the avatar image.
- `full_name` (String) The full name of the group.
- `full_path` (String) The full path of the group.
- `id` (String) The ID of this resource.
- `runners_token` (String, Sensitive) The group level registration token to use during runner setup.
- `web_url` (String) Web URL of the group.

<a id="nestedblock--default_branch_protection_defaults"></a>
### Nested Schema for `default_branch_protection_defaults`

Optional:

- `allow_force_push` (Boolean) Allow force push for all users with push access.
- `allowed_to_merge` (List of String) An array of access levels allowed to merge. Valid values are: `developer`, `maintainer`, `no one`.
- `allowed_to_push` (List of String) An array of access levels allowed to push. Valid values are: `developer`, `maintainer`, `no one`.
- `developer_can_initial_push` (Boolean) Allow developers to initial push.


<a id="nestedblock--push_rules"></a>
### Nested Schema for `push_rules`

Optional:

- `author_email_regex` (String) All commit author emails must match this regex, e.g. `@my-company.com$`.
- `branch_name_regex` (String) All branch names must match this regex, e.g. `(feature|hotfix)\/*`.
- `commit_committer_check` (Boolean) Only commits pushed using verified emails are allowed.
- `commit_committer_name_check` (Boolean) Users can only push commits to this repository if the commit author name is consistent with their GitLab account name.
- `commit_message_negative_regex` (String) No commit message is allowed to match this regex, for example `ssh\:\/\/`.
- `commit_message_regex` (String) All commit messages must match this regex, e.g. `Fixed \d+\..*`.
- `deny_delete_tag` (Boolean) Deny deleting a tag.
- `file_name_regex` (String) Filenames matching the regular expression provided in this attribute are not allowed, for example, `(jar|exe)$`.
- `max_file_size` (Number) Maximum file size (MB) allowed.
- `member_check` (Boolean) Allows only GitLab users to author commits.
- `prevent_secrets` (Boolean) GitLab will reject any files that are likely to contain secrets.
- `reject_non_dco_commits` (Boolean) Reject commit when it’s not DCO certified.
- `reject_unsigned_commits` (Boolean) Only commits signed through GPG are allowed.

## Import

Starting in Terraform v1.5.0, you can use an [import block](https://developer.hashicorp.com/terraform/language/import) to import `gitlab_group`. For example:

```terraform
import {
  to = gitlab_group.example
  id = "see CLI command below for ID"
}
```

Importing using the CLI is supported with the following syntax:

```shell
# You can import a group state using `terraform import <resource> <id>`.  The
# `id` can be whatever the [details of a group][details_of_a_group] api takes for
# its `:id` value, so for example:
terraform import gitlab_group.example example
```
