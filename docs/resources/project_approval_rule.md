---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gitlab_project_approval_rule Resource - terraform-provider-gitlab"
subcategory: ""
description: |-
  This resource allows you to create and manage multiple approval rules for your GitLab projects. For further information on approval rules, consult the gitlab documentation https://docs.gitlab.com/ee/api/merge_request_approvals.html#project-level-mr-approvals.
  -> This feature requires GitLab Premium.
---

# gitlab_project_approval_rule (Resource)

This resource allows you to create and manage multiple approval rules for your GitLab projects. For further information on approval rules, consult the [gitlab documentation](https://docs.gitlab.com/ee/api/merge_request_approvals.html#project-level-mr-approvals).

-> This feature requires GitLab Premium.

## Example Usage

```terraform
resource "gitlab_project_approval_rule" "example-one" {
  project            = 5
  name               = "Example Rule"
  approvals_required = 3
  user_ids           = [50, 500]
  group_ids          = [51]
}

# With Protected Branch IDs
resource "gitlab_branch_protection" "example" {
  project            = 5
  branch             = "release/*"
  push_access_level  = "maintainer"
  merge_access_level = "developer"
}

resource "gitlab_project_approval_rule" "example-two" {
  project              = 5
  name                 = "Example Rule 2"
  approvals_required   = 3
  user_ids             = [50, 500]
  group_ids            = [51]
  protected_branch_ids = [gitlab_branch_protection.example.branch_protection_id]
}

# Example using `data.gitlab_user` and `for` loop
data "gitlab_user" "users" {
  for_each = toset(["user1", "user2", "user3"])

  username = each.value
}

resource "gitlab_project_approval_rule" "example-three" {
  project            = 5
  name               = "Example Rule 3"
  approvals_required = 3
  user_ids           = [for user in data.gitlab_user.users : user.id]
}

# Example using `approval_rule`
resource "gitlab_branch_protection" "any-approver" {
  project            = 5
  name               = "Any name"
  rule_type          = "any_approver"
  approvals_required = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **approvals_required** (Number) The number of approvals required for this rule.
- **name** (String) The name of the approval rule.
- **project** (String) The name or id of the project to add the approval rules.

### Optional

- **group_ids** (Set of Number) A list of group IDs whose members can approve of the merge request.
- **id** (String) The ID of this resource.
- **protected_branch_ids** (Set of Number) A list of protected branch IDs (not branch names) for which the rule applies.
- **rule_type** (String) String, defaults to 'regular'. The type of rule. `any_approver` is a pre-configured default rule with `approvals_required` at `0`. Valid values are `regular`, `any_approver`.
- **user_ids** (Set of Number) A list of specific User IDs to add to the list of approvers.

## Import

Import is supported using the following syntax:

```shell
# GitLab project approval rules can be imported using a key composed of `<project-id>:<rule-id>`, e.g.
terraform import gitlab_project_approval_rule.example "12345:6"
```
