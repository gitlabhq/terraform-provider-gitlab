---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "gitlab_artifact_file Data Source - terraform-provider-gitlab"
subcategory: ""
description: |-
  The gitlab_artifact_file data source allows downloading a single artifact file from a specific job in the latest successful pipeline for a given reference (branch, tag, or commit).
  Upstream API: GitLab REST API docs https://docs.gitlab.com/api/job_artifacts/#download-a-single-artifact-file-by-reference-name
---

# gitlab_artifact_file (Data Source)

The `gitlab_artifact_file` data source allows downloading a single artifact file from a specific job in the latest successful pipeline for a given reference (branch, tag, or commit).
**Upstream API**: [GitLab REST API docs](https://docs.gitlab.com/api/job_artifacts/#download-a-single-artifact-file-by-reference-name)

## Example Usage

```terraform
# Download a text artifact file from the latest successful pipeline
data "gitlab_artifact_file" "config" {
  project       = "namespace/myproject"
  job           = "build-job"
  ref           = "main"
  artifact_path = "config/settings.json"
}

# Use the artifact content
output "config_content" {
  value = data.gitlab_artifact_file.config.content
}

# Download a binary artifact file using base64 encoding
data "gitlab_artifact_file" "binary" {
  project       = "namespace/myproject"
  job           = "build-job"
  ref           = "v1.0.0"
  artifact_path = "dist/app.zip"
}

output "binary_content_base64" {
  value = data.gitlab_artifact_file.binary.content_base64
}

# Download artifact from a specific tag
data "gitlab_artifact_file" "release" {
  project       = "12345"
  job           = "release-job"
  ref           = "v2.1.0"
  artifact_path = "release-notes.txt"
}

# Download a larger artifact with custom size limit
data "gitlab_artifact_file" "large_artifact" {
  project        = "namespace/myproject"
  job            = "build-job"
  ref            = "main"
  artifact_path  = "dist/large-file.zip"
  max_size_bytes = 20971520 # 20MB
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `artifact_path` (String) Path to the artifact file within the job's artifacts archive. This path is relative to the archive contents (not the local filesystem). Ensure each `gitlab_artifact_file` data source in your configuration uses a unique artifact_path to avoid ambiguity.
- `job` (String) The name of the job.
- `project` (String) The ID or URL-encoded path of the project.
- `ref` (String) The name of the branch, tag, or commit SHA.

### Optional

- `max_size_bytes` (Number) Maximum bytes to read from the artifact. Defaults to 10MB (10485760 bytes).

### Read-Only

- `content` (String) The content of the artifact file as a UTF-8 string. Use `content_base64` for binary files.
- `content_base64` (String) The content of the artifact file as a base64-encoded string. Useful for binary files.
- `id` (String) The ID of this datasource. In the format `<project>:<ref>:<job>:<artifact_path>`.
